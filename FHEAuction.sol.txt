// SPDX-License-Identifier: MIT
pragma solidity ^0.8.20;

import "@zama-fhe/contracts/FHE.sol";

contract FHEAuction {
    using FHE for euint32;

    address public owner;
    euint32 private highestBid;
    address public winner;

    constructor() {
        owner = msg.sender;
        highestBid = FHE.asEuint32(0);
    }

    function submitBid(euint32 calldata encBid) public {
        // 如果新的密文 > 当前最高出价
        if (encBid > highestBid) {
            highestBid = encBid;
            winner = msg.sender;
        }
    }

    function getEncryptedHighestBid() public view returns (euint32) {
        return highestBid;
    }
}
